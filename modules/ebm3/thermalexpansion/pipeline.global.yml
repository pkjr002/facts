# Two-layer Model Ocean Dynamics Pipeline
# modified from the Kopp14 pipeline.yml, needs  to be examined

preprocess:
  task1:
    executable: "python3"
    python_dependencies: "numpy scipy netCDF4 pyyaml h5py pandas"
    script: "ebm3_thermalexpansion_preprocess.py"
    options:
      - "scenario"
      - "climate_data_file"
      - "pipeline_id"
    upload_input_data:
      - "%MODULE_PATH%/calibrated_constrained_parameters.csv"
      - "%MODULE_PATH%/scmpy3LM_RCMIP_CMIP6calpm_n18_expcoefs.nc"


#project:
#  task1:
#    executable: "python3"
#    script: "ebm3_thermalexpansion_project.py"
#    options:
#      - "pipeline_id"
#      - "nsamps"
#      - "seed"
#      - "scenario"
#      - "baseyear"
#      - "pyear_start"
#      - "pyear_end"
#      - "pyear_step"
#    copy_input_data:
#      preprocess:
#        task1:
#          - "%PIPELINE_ID%_tlmdata.pkl"
#    global_total_files:
#      - "%PIPELINE_ID%_globalsl.nc"