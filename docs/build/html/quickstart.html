
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Quick Start &#8212; Framework for Assessing Changes To Sea-level (FACTS) 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to Framework for Assessing Changes To Sea-level (FACTS)’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="quick-start">
<h1>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this heading">¶</a></h1>
<section id="using-facts-on-a-local-linux-machine">
<h2>Using FACTS on a local Linux machine<a class="headerlink" href="#using-facts-on-a-local-linux-machine" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Cloning FACTS repository on the local Linux machine:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">radical</span><span class="o">-</span><span class="n">collaboration</span><span class="o">/</span><span class="n">facts</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Download modules-data from https://rutgers.box.com/s/6vjio67b533lx5vzgyt5e5lw5jb4ftts. (If you have multiple users of FACTS, you might want to put these &gt;50 GB of file in a common location and soft-link to each user’s directory.)</p></li>
<li><p>Installing MongoDB and RabbitMQ servers. Follow the official documentation:</p></li>
</ol>
<ul class="simple">
<li><p><a class="reference external" href="https://www.mongodb.com/docs/manual/administration/install-on-linux/">Install MongoDB Community Edition on Linux</a></p></li>
<li><p><a class="reference external" href="https://www.rabbitmq.com/download.html">Downloading and Installing RabbitMQ</a></p></li>
</ul>
<ol class="arabic simple" start="4">
<li><p>Creating and activating a Python virtual environment, and installing FACTS’s Python dependences in it:</p></li>
</ol>
<ul>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">venv</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">ve3</span>
<span class="o">.</span> <span class="n">ve3</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">setuptools</span> <span class="n">pip</span> <span class="n">wheel</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">radical</span><span class="o">.</span><span class="n">entk</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">scipy</span> <span class="n">netCDF4</span> <span class="n">pyyaml</span> <span class="n">matplotlib</span> <span class="n">h5py</span> <span class="n">yq</span>
</pre></div>
</div>
</li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">Conda</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">facts</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">facts</span>
<span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">radical</span><span class="o">.</span><span class="n">entk</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">scipy</span> <span class="n">netCDF4</span> <span class="n">pyyaml</span> <span class="n">matplotlib</span> <span class="n">h5py</span> <span class="n">yq</span>
</pre></div>
</div>
</li>
</ul>
<ol class="arabic simple" start="5">
<li><p>executing FACTS.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">test</span>
<span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="n">experiments</span><span class="o">/</span><span class="n">coupling</span><span class="o">.</span><span class="n">ssp585</span><span class="o">/*</span> <span class="n">test</span>
<span class="n">python3</span> <span class="n">runFACTS</span><span class="o">.</span><span class="n">py</span> <span class="n">test</span>
</pre></div>
</div>
</section>
<section id="using-facts-on-rutgers-amarel">
<h2>Using FACTS on Rutgers’ Amarel<a class="headerlink" href="#using-facts-on-rutgers-amarel" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Login into Amarel, see <a class="reference external" href="https://oarc.rutgers.edu/resources/amarel/">Amarel User Guide</a>.</p></li>
<li><p>Cloning FACTS repository on the local Linux machine:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">radical</span><span class="o">-</span><span class="n">collaboration</span><span class="o">/</span><span class="n">facts</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Download modules-data from https://rutgers.box.com/s/6vjio67b533lx5vzgyt5e5lw5jb4ftts. If you have multiple users of FACTS, you might want to put these &gt;50 GB of file in a common location and soft-link to each user’s directory, for example:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">facts</span><span class="o">/</span><span class="n">modules</span><span class="o">-</span><span class="n">data</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">kopp</span><span class="o">/</span><span class="n">facts</span><span class="o">-</span><span class="n">dev</span><span class="o">/</span><span class="n">modules</span><span class="o">-</span><span class="n">data</span><span class="o">/*.</span><span class="n">tgz</span> <span class="o">.</span> 
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Configuring MongoDB, RabbitMQ and Amarel resource parameters:</p></li>
</ol>
<ul>
<li><p>Ask for MongoDB and RabbitMQ parameters to the FACTS team via email or by opening an issue in this repository.</p></li>
<li><p>Edit FACTS configuration file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vim</span> <span class="n">experiments</span><span class="o">/</span><span class="n">temp_exp</span><span class="o">/</span><span class="n">config</span><span class="o">.</span><span class="n">yml</span>
<span class="o">-&gt;</span> <span class="n">replace</span> <span class="s1">&#39;localhost&#39;</span> <span class="k">with</span> <span class="s1">&#39;amarel&#39;</span>
<span class="o">-&gt;</span> <span class="n">enter</span> <span class="n">the</span> <span class="n">parameters</span> <span class="k">for</span> <span class="n">RabbitMQ</span><span class="o">/</span><span class="n">MongoDB</span>
</pre></div>
</div>
</li>
</ul>
<ol class="arabic simple" start="5">
<li><p>Creating and activating a Python virtual environment, and installing FACTS’s Python dependences in it:</p></li>
</ol>
<ul>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">venv</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">ve3</span>
<span class="o">.</span> <span class="n">ve3</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">setuptools</span> <span class="n">pip</span> <span class="n">wheel</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">radical</span><span class="o">.</span><span class="n">entk</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">scipy</span> <span class="n">netCDF4</span> <span class="n">pyyaml</span> <span class="n">matplotlib</span> <span class="n">h5py</span> <span class="n">yq</span>
</pre></div>
</div>
</li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">Conda</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">facts</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">facts</span>
<span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">radical</span><span class="o">.</span><span class="n">entk</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">scipy</span> <span class="n">netCDF4</span> <span class="n">pyyaml</span> <span class="n">matplotlib</span> <span class="n">h5py</span> <span class="n">yq</span>
</pre></div>
</div>
</li>
</ul>
<ol class="arabic simple" start="6">
<li><p>executing FACTS.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">test</span>
<span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="n">experiments</span><span class="o">/</span><span class="n">coupling</span><span class="o">.</span><span class="n">ssp585</span><span class="o">/*</span> <span class="n">test</span>
<span class="n">python3</span> <span class="n">runFACTS</span><span class="o">.</span><span class="n">py</span> <span class="n">test</span>
</pre></div>
</div>
<section id="module-tests">
<h3>Module Tests<a class="headerlink" href="#module-tests" title="Permalink to this heading">¶</a></h3>
<p>Almost all modules have test scripts that allow them to be run outside the FACTS/EnTK framework. These should be invoked via the test/run_moduletest.sh script. The configuration of the module test scripts are specified in a moduletest.config file. See, for example, <span class="xref myst">modules/ar5/icesheets/test/moduletest.config</span>. There may also be global settings (e.g., the scratch directory you want used) that need to be set in <span class="xref myst">scripts/moduletest/moduletest.config.global</span>.</p>
<p>Since, in running modules outside the FACTS/EnTK framework, you will not have the benefits of EnTK’s environment management, you will need to make sure all the packages needed to support the modules are installed in their environment. This will differ between packages (e.g., <span class="xref myst">emulandice</span> is a FACTS wrapper around independently developed R code, and running it requires all the R packages required by that code), but a good working environment for most purposes can be set up with conda as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">facts</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.7</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">-</span><span class="n">y</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">facts</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">radical</span><span class="o">.</span><span class="n">entk</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">scipy</span> <span class="n">netCDF4</span> <span class="n">pyyaml</span> <span class="n">matplotlib</span> <span class="n">h5py</span> <span class="n">yq</span>
</pre></div>
</div>
<p>In addition, you will need to have all the associated module data tgz files in your <span class="xref myst">modules-data</span> directory. Note that some of these files are quite large (the total exceeds 50 GB), so if you have multiple users on a system employing FACTS, best practice would be to have a shared directory in which all these large files live and then use sym-links to link them to each user’s modules-data directory, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">facts</span><span class="o">/</span><span class="n">modules</span><span class="o">-</span><span class="n">data</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">shared</span><span class="o">/</span><span class="n">facts</span><span class="o">/</span><span class="n">modules</span><span class="o">-</span><span class="n">data</span><span class="o">/*.</span><span class="n">tgz</span> <span class="o">.</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Framework for Assessing Changes To Sea-level (FACTS)</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-facts-on-a-local-linux-machine">Using FACTS on a local Linux machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-facts-on-rutgers-amarel">Using FACTS on Rutgers’ Amarel</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to Framework for Assessing Changes To Sea-level (FACTS)’s documentation!</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, RADICAL and Rutgers University Earth System Science & Policy Lab.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/quickstart.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>